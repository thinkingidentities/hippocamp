# FastAPI server defaults
PORT=8080
ALLOWED_ORIGINS=https://chat.openai.com

# Matrix homeserver configuration
# These are loaded automatically by run_with_vault.sh from 1Password TWVault-ep2lab
# Manual configuration (for testing without vault):
MATRIX_HOMESERVER=https://matrix.hippocamp.ai
MATRIX_USER_ID=@gabe:ep2.local
MATRIX_DEVICE_ID=GABE_ACTIONS_DEVICE
MATRIX_DEVICE_NAME=Gabe Matrix Actions Bridge
MATRIX_SESSION_STORE=.matrix-store

# Authentication - Choose ONE method:
# METHOD 1 (RECOMMENDED): Use run_with_vault.sh wrapper
#   - Loads credentials from 1Password TWVault-ep2lab
#   - Credentials stored in: matrix-gabe secret (homeserver, user_id, password, device_id, device_name)
#   - Room ID stored in: matrix-room-gabes-clearing secret (room_id)
#   - Usage: ./run_with_vault.sh [--dev]

# METHOD 2: Set MATRIX_PASSWORD directly (never commit real values to git)
# MATRIX_PASSWORD=please-change-me

# METHOD 3: Use 1Password CLI secret reference (advanced - requires op CLI installed)
# OP_MATRIX_PASSWORD_PATH=op://TWVault-ep2lab/matrix-gabe/password
# OP_CLI_PATH=op

# Reference for operators (room_id supplied separately at deploy time)
DEFAULT_ROOM_ALIAS=#gabes-clearing:ep2.local

# -----------------------------------------------------------------------------
# 1Password Vault Setup Instructions
# -----------------------------------------------------------------------------
# To configure credentials in 1Password vault, run:
#
# cd /Volumes/Projects/tw
# .venv/bin/python << 'EOF'
# from infra.secrets import TWVault
# vault = TWVault()
#
# # Store Gabe bot credentials
# vault.set_matrix_credentials(
#     bot_name="gabe",
#     homeserver="https://matrix.hippocamp.ai",
#     user_id="@gabe:ep2.local",
#     password="YOUR_PASSWORD_HERE",
#     device_id="GABE_ACTIONS_DEVICE",
#     device_name="Gabe Matrix Actions Bridge"
# )
#
# # Store Gabe's Clearing room ID
# vault.set_matrix_room_id(
#     room_alias="gabes-clearing",
#     room_id="!YOUR_ROOM_ID_HERE:ep2.local",
#     description="Gabe's Clearing - ChatGPT Custom GPT governance room"
# )
# EOF
# -----------------------------------------------------------------------------
